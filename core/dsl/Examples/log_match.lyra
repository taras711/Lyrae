!!! 
    log match â€” brief description 
    Purpose: 
        Evaluates an expression or variable against a set of case patterns and performs logging or a block of commands based on the match. Allows for branching logic without writing a full if/elseif.
    Characteristics: 
        - Syntax: 
            log match [target] 
                case condition | value | range -> expression | block 
                case _ -> default action 
            end 
    - The target after match is optional â€“ it can be a variable, property, or any expression. 
    - case can contain: 
        - relational and logical operators (==, <, and, or, not, parentheses) 
        - range (start..end) 
        - _ as "anything else" (default) 
    - Actions after -> can be: 
        - an expression (typically a string with interpolation #var#) 
        - multiple commands (block until the next case or end) 
    - Utilizes current variables from the context (keep, it in iterations, etc.)
!!!

keep score = 85
keep threshold = 65
keep u = { name: "Pepa" }

!!! 
    Basic comparison
    Comparison for equality, inequality, greater/less than, case _ as default
!!!
log match score
  case score >= 80 -> "âœ… Passed"
  case score < 60 -> "ðŸš¨ NÃ­zkÃ© skÃ³re: #score#"
  case _ -> "â„¹ï¸ StandardnÃ­ vÃ½stup"
end

!!! 
    Logical operators
    Supports and, or, not and the grouping of conditions
!!!
log match score
  case score >= 80 and score <= 90 -> "ðŸ‘Œ V normÄ›"
  case score < 60 or score > 95 -> "âš ï¸ Mimo rozsah"
end

!!! 
    Ranges (RangePattern)
    Comparison of numbers against a closed interval
!!!
log match score
  case 1..5 -> "ðŸ“‰ Velmi nÃ­zkÃ© skÃ³re"
  case 6..10 -> "ðŸ“ˆ ZlepÅ¡enÃ­"
end

!!! Mutation
stream stats
    keep score = 70
    keep threshold = 65
end

!!! 
    Match without explicit variable
    You can write conditions directly, without specifying the target after the match.
!!!
log match
  case score > threshold -> "âœ… Passed"
  case _ -> "âŒ Failed"
end

!!! 
    Targeting another variable or expression
    Comparison of the value of the property or any expression
!!!
log match u.name
  case "Pepa" -> "Ahoj, #u.name#!"
  case _ -> "NeznÃ¡mÃ½ uÅ¾ivatel"
end

!!! 
    Interpolation in the output
    #score# will be replaced by the current value upon evaluation.
!!!
log match score
  case score < 50 -> "âš ï¸ NÃ­zkÃ© skÃ³re #score#"
  case _ -> "OK: #score#"
end

!!! 
    Backtick stringy
    Same interpolation as in '...', but allows for writing more lines.
!!!
log match score
  case score < 50 -> `âš ï¸ NÃ­zkÃ© skÃ³re #score# / limit #threshold#`
  case _ -> `OK: #score#`
end

!!! 
    Compound conditions and multiple variables
    The case expression can use all available variables from the context.
!!!
log match
  case score < 60 and threshold < 70 -> "âŒ ObÄ› hodnoty nÃ­zkÃ© (#score# / #threshold#)"
  case score >= 80 or threshold > 75 -> "âœ… AspoÅˆ jedna hodnota dobrÃ¡"
  case _ -> "â„¹ï¸ StÅ™ednÃ­ hodnota"
end

!!! 
    More actions in the case
    Instead of one expression after -> there can be a block of statements (until the next case/end)
!!!
log match score
  case score < 50 ->
    log "âš ï¸ NÃ­zkÃ© skÃ³re #score#"
    keep alert = true
  case _ -> log "V poÅ™Ã¡dku"
end

!!! Case with negotiation
log match score
  case not (score >= 50) -> "Pod 50"
  case _ -> "50 a vÃ­c"
end








